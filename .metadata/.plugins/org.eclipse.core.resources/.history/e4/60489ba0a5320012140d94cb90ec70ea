package com.example.version2;

import android.content.Context;
import android.graphics.Color;
import android.util.AttributeSet;
import android.view.LayoutInflater;
import android.widget.RelativeLayout;
import android.widget.TextView;
public class ViewModulo extends RelativeLayout{
	    private TextView mStudent;
	    private TextView mSubject;
	    private TextView mMarkNumber;
	    private TextView mMarkText;
	    
	    public ViewModulo(Context context, AttributeSet attrs, int defStyle) {
	        super(context, attrs, defStyle);
	        initView(context);
	    }
	    public ViewModulo(Context context, AttributeSet attrs) {
	        super(context, attrs);
	        initView(context);
	    }
	    public ViewModulo(Context context) {
	        super(context);
	        initView(context);
	    }
	    private void initView(Context context) {
	        final LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
	 
	        inflater.inflate(R.layout.subjectmarkview, this, true);
	 
	        mStudent = (TextView) findViewById(R.id.sm_student);
	        mSubject = (TextView) findViewById(R.id.sm_subject);
	        mMarkNumber = (TextView) findViewById(R.id.sm_marknumber);
	        mMarkText = (TextView) findViewById(R.id.sm_marktext);
	    }
	 
	    public void setStudent(CharSequence student) {
	        mStudent.setText(student);
	    }
	    public void setSubject(CharSequence subject) {
	        mSubject.setText(subject);
	    }
	    public void setMark(double mark) {
	        mMarkNumber.setText(""+mark);
	 
	        int markTextId=R.string.mark_unknown;
	 
	        if(mark >= 9){
	            markTextId = R.string.mark_a;
	        } else if(mark >= 7) {
	            markTextId = R.string.mark_b;
	        } else if(mark >= 6) {
	            markTextId = R.string.mark_c;
	        } else if(mark >= 5) {
	            markTextId = R.string.mark_d;
	        } else if(mark >= 0) {
	            markTextId = R.string.mark_e;
	        }
	 
	        mMarkText.setText(markTextId);
	 
	        int color= (mark>=5) ? Color.GREEN : Color.RED;
	 
	        mMarkText.setTextColor(color);
	        mMarkNumber.setTextColor(color);
	 
	    }
	 }


}
